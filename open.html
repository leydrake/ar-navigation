<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Opening App…</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <script>
    // read optional query (not required here)
    const params = new URLSearchParams(window.location.search);
    const data = params.get("data") || "Gate";

    // CUSTOM APP SCHEME (change 'yourapp' to your scheme)
    const appLink = `navigatemycampus://open?data=${encodeURIComponent(data)}`;

    // PLAY STORE FALLBACK (replace with your package)
    const playStoreLink = "https://play.google.com/store/apps/details?id=com.supercell.clashofclans";

    // Try to open the app, fallback to Play Store after ~1.5s
    function tryOpen() {
      const start = Date.now();
      // trigger intent / custom scheme
      window.location = appLink;

      // if app didn't open (user still in browser), redirect to Play Store
      setTimeout(function() {
        if (Date.now() - start < 1600) {
          window.location = playStoreLink;
        }
      }, 1400);
    }

    window.onload = tryOpen;
  </script>
</head>
<body>
  <p>Opening the app… If nothing happens, <a id="storelink" href="https://play.google.com/store/apps/details?id=com.supercell.clashofclans">open the Play Store</a>.</p>
  <script>
    // update visible link in case you used query param
    document.getElementById('storelink').href = playStoreLink;
  </script>
</body>
</html>
